@{
    ViewData["Title"] = "Home Page";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-scale@4"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="../Views/Home/stats.csv"></script>
    <link rel="stylesheet" href="index.css">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
</head>
<body id="page-top">
    <header class="masthead text-center text-white ">
        <div class="masthead-content artbg allover">
            <div class="container px-5 ">
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <h1 class="masthead-heading mb-0">Welcome To Gamers Eden</h1>
                <br />
                <br />
                <h2 class="masthead-subheading mb-0">Find every game by your desire </h2>
                <br />
                <a class="btn bottonmain rounded-pill" asp-controller="Games" asp-action="HomePage">ENTER EDEN</a>
                <br />
            </div>
        </div>

    </header>
    <div class="allover">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
                <a class="nav-link active text-dark" data-toggle="tab" href="#GameNews">Gaming News</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#Statistics">Statistics</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark" data-toggle="tab" href="#AboutUs">About Us</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content text-dark">
            <div id="GameNews" class="container tab-pane active">
                <br>
                <div class="img-container">

                    <embed src="https://www.pcgamer.com/news/" style="width:100%; height: 600px;">
                </div>
            </div>
            <div id="Statistics" class="container tab-pane fade artbg2">
                <br>
                <div class="img-container">
                    <h4 class=" textbox" style="color:#00ca1a">Worldwide Gaming Statistics</h4>
                    <br />
                    <h2>The amount of Consoles sold around the world by millions:</h2>
                    <div id="my_dataviz"></div>
                    <br />
                </div>
                <div class="float-left">
                    <h4 style="padding-left: 0px; color:#11d857">
                        -There are more than 2.7 billion gamers worldwide.<br>
                        -48% of gaming studios work on VR/AR games.<br>
                        -Every day 25 new games are released on Steam.<br><br /><br /><br /><br />
                        -The global gaming industry will grow at a CAGR of 12% between 2020-2025.<br>
                        -The mobile games industry could be worth $169.7 billion by the end of 2025.<br>
                        -Dota 2 players received over $177 million in tournament prizes.<br>
                        -45% of US gamers are women.<br>
                        -League of Legends is the most popular game.<br><br />
                    </h4>
                        <h2 style="color:#ff6a00">Top Public Companies by Game Revenues:</h2>                
                </div>
                <br />
                <div>
                    <div id="my_pie"></div>
                </div>
                <!-- Footer-->
                <footer class="py-5 bg-black">
                    <div class="container px-5"><p class="m-0 text-center text-dark small">Copyright &copy; Your Website 2021</p></div>
                </footer>
                <!-- Bootstrap core JS-->
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
                <!-- Core theme JS-->
                <script src="js/scriptsOnePage.js"></script>
                <script src="https://d3js.org/d3.v4.min.js"></script>
                <script src="~/js/index.js"></script>
            </div>
            <div id="AboutUs" class="container tab-pane fade">
                <br>
                <!--map-->
                <div class="img-container">
                    <!--The div element for the map -->
                    <div class="textbox">
                        <br />
                        <h4>Visit us in Rishon Lezion at our college shop</h4><br />
                    </div>
                    <div class="map">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3384.672318677845!2d34.768830115709676!3d31.96978528122333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1502b6ea7e5d0f75%3A0xb7f11f0f883d9111!2z15TXnteb15zXnNeUINec157Xmdeg15TXnCDXqNeQ16nXldefINec16bXmdeV158!5e0!3m2!1sen!2sil!4v1629543309226!5m2!1sen!2sil"<!-- width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"-->></iframe>
                    </div>
                    <div class="textbox">
                        <h6>Opening hours:</h6><br />
                        <h6>Sunday to Thursday: 10:00 - 20:00</h6><br />
                        <h6>Friday : 10:00 - 13:00</h6>
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>

    const myData = [
        { id: 'd1', Sales: 155, console: 'PS2' },
        { id: 'd2', Sales: 154, console: 'NINTENDO DSF' },
        { id: 'd3', Sales: 116, console: 'PS4' },
        { id: 'd4', Sales: 102, console: 'PS1' },
        { id: 'd5', Sales: 101, console: 'Wii' },
        { id: 'd6', Sales: 89, console: 'NINTENDO SW' },
        { id: 'd7', Sales: 87, console: 'PS3' },
        { id: 'd8', Sales: 84, console: 'XBOX 360' },
        { id: 'd9', Sales: 51, console: 'XBOX ONE' },
        { id: 'd10', Sales: 24, console: 'XBOX' },
        { id: 'd11', Sales: 10, console: 'PS5' },
        { id: 'd12', Sales: 6, console: 'XBOX SERIES X/S' },
    ]
    // set the dimensions and margins of the graph
    var margin = { top: 30, right: 30, bottom: 70, left: 50 },
        width = 460 - margin.left - margin.right,
        height = 420 - margin.top - margin.bottom;

    // append the svg object to the body of the page
    var svg = d3.select("#my_dataviz")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform",
            "translate(" + margin.left + "," + margin.top + ")");

    // X axis
    var x = d3.scaleBand()
        .range([0, width])
        .domain(myData.map(function (d) { return d.console; }))
        .padding(0.2);

    svg.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x))
        .selectAll("text")
        .attr("transform", "translate(-10,0)rotate(-45)")
        .style("text-anchor", "end");

    // Add Y axis
    var y = d3.scaleLinear()
        .domain([0, 160])
        .range([height, 0]);
    svg.append("g")
        .call(d3.axisLeft(y));

    // Bars
    svg.selectAll("mybar")
        .data(myData)
        .enter()
        .append("rect")
        .attr("x", function (d) { return x(d.console); })
        .attr("y", function (d) { return y(d.Sales); })
        .attr("width", x.bandwidth())
        .attr("height", function (d) { return height - y(d.Sales); })
        .attr("fill", "#9787fb")

</script>
<script>

    // set the dimensions and margins of the graph
    var width = 450
    height = 450
    margin = 40

    // The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.
    var radius = Math.min(width, height) / 2 - margin

    // append the svg object to the div called 'my_dataviz'
    var svg = d3.select("#my_pie")
        .append("svg")
        .attr("width", width)
        .attr("height", height)
        .append("g")
        .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    // Create dummy data
    var data = { Tecent: 7.182, Sony: 5.679, Microsoft: 3.473, Nintendo: 2.607, Blizzard: 2.108 }
    // set the color scale
    var color = d3.scaleOrdinal()
        .domain(data)
        .range(d3.schemeSet2);

    // Compute the position of each group on the pie:
    var pie = d3.pie()
        .value(function (d) { return d.value; })
    var data_ready = pie(d3.entries(data))
    // Now I know that group A goes from 0 degrees to x degrees and so on.

    // shape helper to build arcs:
    var arcGenerator = d3.arc()
        .innerRadius(0)
        .outerRadius(radius)

    // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
    svg
        .selectAll('mySlices')
        .data(data_ready)
        .enter()
        .append('path')
        .attr('d', arcGenerator)
        .attr('fill', function (d) { return (color(d.data.key)) })
        .attr("stroke", "black")
        .style("stroke-width", "2px")
        .style("opacity", 0.7)

    // Now add the annotation. Use the centroid method to get the best coordinates
    svg
        .selectAll('mySlices')
        .data(data_ready)
        .enter()
        .append('text')
        .text(function (d) { return d.data.key })
        .attr("transform", function (d) { return "translate(" + arcGenerator.centroid(d) + ")"; })
        .style("text-anchor", "middle")
        .style("font-size", 17)

</script>